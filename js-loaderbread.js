// JS Loader
var js = atob('Ly8gQmFrZXJ5IHByb2R1Y3QgZGF0YSB3aXRoIGNhdGVnb3JpZXMKICAgICAgICBjb25zdCBiYWtlcnlJdGVtcyA9IFsKICAgICAgICAgICAgeyAKICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAiQ29icyIsIAogICAgICAgICAgICAgICAgaWNvbjogImJyZWFkLXNsaWNlIiwKICAgICAgICAgICAgICAgIGl0ZW1zOiBbCiAgICAgICAgICAgICAgICAgICAgeyBpZDogMSwgbmFtZTogIlNtYWxsIHgxMiIsIGRlc2NyaXB0aW9uOiAiU21hbGwgY3J1c3R5IGJyZWFkIHJvbGxzLCBwYWNrIG9mIDEyIiB9LAogICAgICAgICAgICAgICAgICAgIHsgaWQ6IDIsIG5hbWU6ICJNZWRpdW0geDYiLCBkZXNjcmlwdGlvbjogIk1lZGl1bSBjcnVzdHkgYnJlYWQgcm9sbHMsIHBhY2sgb2YgNiIgfSwKICAgICAgICAgICAgICAgICAgICB7IGlkOiAzLCBuYW1lOiAiTGFyZ2UgeDYiLCBkZXNjcmlwdGlvbjogIkxhcmdlIGNydXN0eSBicmVhZCByb2xscywgcGFjayBvZiA2IiB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsgCiAgICAgICAgICAgICAgICBjYXRlZ29yeTogIlJvbGxzIiwgCiAgICAgICAgICAgICAgICBpY29uOiAiaG90ZG9nIiwKICAgICAgICAgICAgICAgIGl0ZW1zOiBbCiAgICAgICAgICAgICAgICAgICAgeyBpZDogNCwgbmFtZTogIkZpbmdlciB4MTIiLCBkZXNjcmlwdGlvbjogIkxvbmcgZmluZ2VyIHJvbGxzLCBwYWNrIG9mIDEyIiB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsgCiAgICAgICAgICAgICAgICBjYXRlZ29yeTogIkJyZWFkIExvYXZlcyIsIAogICAgICAgICAgICAgICAgaWNvbjogImJyZWFkLXNsaWNlIiwKICAgICAgICAgICAgICAgIGl0ZW1zOiBbCiAgICAgICAgICAgICAgICAgICAgeyBpZDogNSwgbmFtZTogIkJyb3duIE1lZGl1bSIsIGRlc2NyaXB0aW9uOiAiTWVkaXVtIHNsaWNlZCBicm93biBicmVhZCwgODAwZyBsb2FmIiB9LAogICAgICAgICAgICAgICAgICAgIHsgaWQ6IDYsIG5hbWU6ICJXaGl0ZSBNZWRpdW0iLCBkZXNjcmlwdGlvbjogIk1lZGl1bSBzbGljZWQgd2hpdGUgYnJlYWQsIDgwMGcgbG9hZiIgfSwKICAgICAgICAgICAgICAgICAgICB7IGlkOiA3LCBuYW1lOiAiQnJvd24gVGhpY2siLCBkZXNjcmlwdGlvbjogIlRoaWNrIHNsaWNlZCBicm93biBicmVhZCwgODAwZyBsb2FmIiB9LAogICAgICAgICAgICAgICAgICAgIHsgaWQ6IDgsIG5hbWU6ICJXaGl0ZSBUaGljayIsIGRlc2NyaXB0aW9uOiAiVGhpY2sgc2xpY2VkIHdoaXRlIGJyZWFkLCA4MDBnIGxvYWYiIH0sCiAgICAgICAgICAgICAgICAgICAgeyBpZDogOSwgbmFtZTogIlRpZ2VyIEJsb29tZXIiLCBkZXNjcmlwdGlvbjogIkFydGlzYW4gdGlnZXIgcGF0dGVybiBibG9vbWVyIGxvYWYiIH0sCiAgICAgICAgICAgICAgICAgICAgeyBpZDogMTAsIG5hbWU6ICJXaGl0ZSBCbG9vbWVyIiwgZGVzY3JpcHRpb246ICJUcmFkaXRpb25hbCB3aGl0ZSBibG9vbWVyIGxvYWYiIH0sCiAgICAgICAgICAgICAgICAgICAgeyBpZDogMTEsIG5hbWU6ICJCcm93biBCbG9vbWVyIiwgZGVzY3JpcHRpb246ICJXaG9sZW1lYWwgYnJvd24gYmxvb21lciBsb2FmIiB9LAogICAgICAgICAgICAgICAgICAgIHsgaWQ6IDEyLCBuYW1lOiAiVW5zbGljZWQgQnJvd24gQmxvb21lciIsIGRlc2NyaXB0aW9uOiAiVW5zbGljZWQgd2hvbGVtZWFsIGJsb29tZXIgbG9hZiIgfSwKICAgICAgICAgICAgICAgICAgICB7IGlkOiAxMywgbmFtZTogIlVuc2xpY2VkIFdoaXRlIEJsb29tZXIiLCBkZXNjcmlwdGlvbjogIlVuc2xpY2VkIHdoaXRlIGJsb29tZXIgbG9hZiIgfSwKICAgICAgICAgICAgICAgICAgICB7IGlkOiAxNCwgbmFtZTogIktpbmdzbWlsbCA1MC81MCIsIGRlc2NyaXB0aW9uOiAiSGFsZiB3aGl0ZSBoYWxmIHdob2xlbWVhbCBicmVhZCIgfSwKICAgICAgICAgICAgICAgICAgICB7IGlkOiAxNSwgbmFtZTogIkdsdXRlbiBGcmVlIiwgZGVzY3JpcHRpb246ICJHbHV0ZW4tZnJlZSBicmVhZCBsb2FmIiB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsgCiAgICAgICAgICAgICAgICBjYXRlZ29yeTogIldyYXBzIiwgCiAgICAgICAgICAgICAgICBpY29uOiAiYnJlYWQtc2xpY2UiLAogICAgICAgICAgICAgICAgaXRlbXM6IFsKICAgICAgICAgICAgICAgICAgICB7IGlkOiAxNiwgbmFtZTogIk1lZGl1bSBXaGl0ZSIsIGRlc2NyaXB0aW9uOiAiTWVkaXVtIHdoaXRlIHRvcnRpbGxhIHdyYXBzIiB9LAogICAgICAgICAgICAgICAgICAgIHsgaWQ6IDE3LCBuYW1lOiAiTGFyZ2UgV2hpdGUiLCBkZXNjcmlwdGlvbjogIkxhcmdlIHdoaXRlIHRvcnRpbGxhIHdyYXBzIiB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0KICAgICAgICBdOwoKICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBhcHAKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4gewogICAgICAgICAgICBjb25zdCBicmVhZExpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlYWRMaXN0Jyk7CiAgICAgICAgICAgIGNvbnN0IHJlcG9ydE1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlcG9ydE1vZGFsJyk7CiAgICAgICAgICAgIGNvbnN0IGNsb3NlTW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2VNb2RhbCcpOwogICAgICAgICAgICBjb25zdCBjYW5jZWxCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FuY2VsQnRuJyk7CiAgICAgICAgICAgIGNvbnN0IGdlbmVyYXRlUmVwb3J0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dlbmVyYXRlUmVwb3J0Jyk7CiAgICAgICAgICAgIGNvbnN0IHNlbmRFbWFpbEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZW5kRW1haWxCdG4nKTsKICAgICAgICAgICAgY29uc3Qgc2VuZEFsbEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZW5kQWxsQnRuJyk7CiAgICAgICAgICAgIGNvbnN0IHJlcG9ydExpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVwb3J0TGlzdCcpOwogICAgICAgICAgICBjb25zdCBlbWFpbEZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1haWxGb3JtJyk7CiAgICAgICAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaElucHV0Jyk7CiAgICAgICAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub3RpZmljYXRpb24nKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEdlbmVyYXRlIGJyZWFkIGNhcmRzIHdpdGggY2F0ZWdvcnkgaGVhZGVycwogICAgICAgICAgICBmdW5jdGlvbiByZW5kZXJCcmVhZExpc3QoKSB7CiAgICAgICAgICAgICAgICBicmVhZExpc3QuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGJha2VyeUl0ZW1zLmZvckVhY2goY2F0ZWdvcnlHcm91cCA9PiB7CiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGNhdGVnb3J5IGhlYWRlcgogICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5SGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlIZWFkZXIuY2xhc3NOYW1lID0gJ2NhdGVnb3J5LXNlY3Rpb24nOwogICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5SGVhZGVyLmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2F0ZWdvcnktaWNvbiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLSR7Y2F0ZWdvcnlHcm91cC5pY29ufSI+PC9pPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzPSJjYXRlZ29yeS10aXRsZSI+JHtjYXRlZ29yeUdyb3VwLmNhdGVnb3J5fTwvaDI+CiAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgICAgICBicmVhZExpc3QuYXBwZW5kQ2hpbGQoY2F0ZWdvcnlIZWFkZXIpOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBjYXJkcyBmb3IgaXRlbXMgaW4gdGhpcyBjYXRlZ29yeQogICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5R3JvdXAuaXRlbXMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYnJlYWRDYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFkQ2FyZC5jbGFzc05hbWUgPSAnYnJlYWQtY2FyZCc7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFkQ2FyZC5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJicmVhZC1oZWFkZXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz0iYnJlYWQtbmFtZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtJHtjYXRlZ29yeUdyb3VwLmljb259IGJyZWFkLWljb24iPjwvaT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtpdGVtLm5hbWV9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJicmVhZC1pZCI+SUQ6ICR7aXRlbS5pZH08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYnJlYWQtaW5mbyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9ImJyZWFkLWRlc2NyaXB0aW9uIj4ke2l0ZW0uZGVzY3JpcHRpb259PC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InF1YW50aXR5LWNvbnRyb2wiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0icXVhbnRpdHktbGFiZWwiPkFtb3VudDo8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIG1pbj0iMCIgY2xhc3M9InF1YW50aXR5LWlucHV0IiBpZD0iaXRlbS0ke2l0ZW0uaWR9IiBwbGFjZWhvbGRlcj0iRW50ZXIgcXVhbnRpdHkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFkTGlzdC5hcHBlbmRDaGlsZChicmVhZENhcmQpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHJlbmRlckJyZWFkTGlzdCgpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gU2VhcmNoIGZ1bmN0aW9uYWxpdHkKICAgICAgICAgICAgc2VhcmNoSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZSkgPT4gewogICAgICAgICAgICAgICAgY29uc3Qgc2VhcmNoVGVybSA9IGUudGFyZ2V0LnZhbHVlLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIEhpZGUgYWxsIGl0ZW1zIGFuZCBjYXRlZ29yaWVzIGluaXRpYWxseQogICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJyZWFkLWNhcmQsIC5jYXRlZ29yeS1zZWN0aW9uJykuZm9yRWFjaChlbCA9PiB7CiAgICAgICAgICAgICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBTaG93IG1hdGNoaW5nIGl0ZW1zIGFuZCB0aGVpciBjYXRlZ29yaWVzCiAgICAgICAgICAgICAgICBiYWtlcnlJdGVtcy5mb3JFYWNoKGNhdGVnb3J5R3JvdXAgPT4gewogICAgICAgICAgICAgICAgICAgIGxldCBjYXRlZ29yeUhhc1Zpc2libGVJdGVtcyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5R3JvdXAuaXRlbXMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBpdGVtLSR7aXRlbS5pZH1gKS5jbG9zZXN0KCcuYnJlYWQtY2FyZCcpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXRlZ29yeUhlYWRlciA9IGNhcmQgPyBjYXJkLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgOiBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaFRlcm0pIHx8IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaFRlcm0pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2F0ZWdvcnlIZWFkZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeUhlYWRlci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5SGFzVmlzaWJsZUl0ZW1zID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vIElmIGNhdGVnb3J5IGhhcyB2aXNpYmxlIGl0ZW1zLCBlbnN1cmUgaXQncyBkaXNwbGF5ZWQKICAgICAgICAgICAgICAgICAgICBpZiAoY2F0ZWdvcnlIYXNWaXNpYmxlSXRlbXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlyc3RDYXJkID0gYnJlYWRMaXN0LnF1ZXJ5U2VsZWN0b3IoYC5icmVhZC1jYXJkW3N0eWxlPSJkaXNwbGF5OiBmbGV4OyJdYCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdENhcmQgJiYgZmlyc3RDYXJkLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0Q2FyZC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gSWYgc2VhcmNoIGlzIGVtcHR5LCBzaG93IGFsbAogICAgICAgICAgICAgICAgaWYgKHNlYXJjaFRlcm0gPT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJyZWFkLWNhcmQsIC5jYXRlZ29yeS1zZWN0aW9uJykuZm9yRWFjaChlbCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnJzsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBTaG93IHJlcG9ydCBtb2RhbAogICAgICAgICAgICBmdW5jdGlvbiBzaG93UmVwb3J0KCkgewogICAgICAgICAgICAgICAgLy8gQ2xlYXIgcHJldmlvdXMgcmVwb3J0CiAgICAgICAgICAgICAgICByZXBvcnRMaXN0LmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSByZXBvcnQgd2l0aCBjYXRlZ29yeSBoZWFkZXJzCiAgICAgICAgICAgICAgICBiYWtlcnlJdGVtcy5mb3JFYWNoKGNhdGVnb3J5R3JvdXAgPT4gewogICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBjYXRlZ29yeSBoZWFkZXIKICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXRlZ29yeUhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7CiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlIZWFkZXIuY2xhc3NOYW1lID0gJ3JlcG9ydC1jYXRlZ29yeSc7CiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlIZWFkZXIuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLSR7Y2F0ZWdvcnlHcm91cC5pY29ufSI+PC9pPgogICAgICAgICAgICAgICAgICAgICAgICAke2NhdGVnb3J5R3JvdXAuY2F0ZWdvcnl9CiAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgICAgICByZXBvcnRMaXN0LmFwcGVuZENoaWxkKGNhdGVnb3J5SGVhZGVyKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgcmVwb3J0IGl0ZW1zCiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlHcm91cC5pdGVtcy5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBpdGVtLSR7aXRlbS5pZH1gKTsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHF1YW50aXR5ID0gJ04vQSc7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBxdWFudGl0eUNsYXNzID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQudmFsdWUudHJpbSgpICE9PSAnJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJzZUludChpbnB1dC52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKHZhbHVlKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eSA9ICcwJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHlDbGFzcyA9ICdxdWFudGl0eS16ZXJvJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eSA9IHZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVwb3J0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlcG9ydEl0ZW0uY2xhc3NOYW1lID0gJ3JlcG9ydC1pdGVtJzsKICAgICAgICAgICAgICAgICAgICAgICAgcmVwb3J0SXRlbS5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0icmVwb3J0LWJyZWFkIj4ke2l0ZW0ubmFtZX08L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0icmVwb3J0LXF1YW50aXR5ICR7cXVhbnRpdHlDbGFzc30iPiR7cXVhbnRpdHl9PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAgICAgICByZXBvcnRMaXN0LmFwcGVuZENoaWxkKHJlcG9ydEl0ZW0pOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHJlcG9ydE1vZGFsLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgZ2VuZXJhdGVSZXBvcnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93UmVwb3J0KTsKICAgICAgICAgICAgc2VuZEFsbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNob3dSZXBvcnQpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ2xvc2UgbW9kYWwKICAgICAgICAgICAgY29uc3QgY2xvc2VNb2RhbEZ1bmMgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICByZXBvcnRNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIAogICAgICAgICAgICBjbG9zZU1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VNb2RhbEZ1bmMpOwogICAgICAgICAgICBjYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZU1vZGFsRnVuYyk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBGdW5jdGlvbiB0byBnZXQgZm9ybWF0dGVkIGludmVudG9yeSBsaXN0IGZvciBlbWFpbAogICAgICAgICAgICBmdW5jdGlvbiBnZXRJbnZlbnRvcnlMaXN0KCkgewogICAgICAgICAgICAgICAgbGV0IGludmVudG9yeUxpc3QgPSAiIjsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgYmFrZXJ5SXRlbXMuZm9yRWFjaChjYXRlZ29yeUdyb3VwID0+IHsKICAgICAgICAgICAgICAgICAgICBpbnZlbnRvcnlMaXN0ICs9IGAke2NhdGVnb3J5R3JvdXAuY2F0ZWdvcnl9OlxuYDsKICAgICAgICAgICAgICAgICAgICBpbnZlbnRvcnlMaXN0ICs9ICItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4iOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5R3JvdXAuaXRlbXMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgaXRlbS0ke2l0ZW0uaWR9YCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBxdWFudGl0eSA9ICdOL0EnOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnZhbHVlLnRyaW0oKSAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcGFyc2VJbnQoaW5wdXQudmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05hTih2YWx1ZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eSA9IHZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBpbnZlbnRvcnlMaXN0ICs9IGAke2l0ZW0ubmFtZX06ICR7cXVhbnRpdHl9XG5gOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGludmVudG9yeUxpc3QgKz0gIlxuIjsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICByZXR1cm4gaW52ZW50b3J5TGlzdDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8gU2VuZCBlbWFpbCBmdW5jdGlvbmFsaXR5CiAgICAgICAgICAgIHNlbmRFbWFpbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIChlbWFpbEZvcm0uY2hlY2tWYWxpZGl0eSgpKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1haWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1haWwnKS52YWx1ZTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWJqZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1YmplY3QnKS52YWx1ZTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2UnKS52YWx1ZTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnZlbnRvcnlMaXN0ID0gZ2V0SW52ZW50b3J5TGlzdCgpOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vIFByZXBhcmUgZW1haWwgY29udGVudAogICAgICAgICAgICAgICAgICAgIGNvbnN0IGVtYWlsQm9keSA9IGVuY29kZVVSSUNvbXBvbmVudCgKICAgICAgICAgICAgICAgICAgICAgICAgYCR7bWVzc2FnZX1cblxuYCArCiAgICAgICAgICAgICAgICAgICAgICAgICJCQUtFUlkgSU5WRU5UT1JZIFJFUE9SVDpcbiIgKwogICAgICAgICAgICAgICAgICAgICAgICAiPT09PT09PT09PT09PT09PT09PT09PT09XG5cbiIgKwogICAgICAgICAgICAgICAgICAgICAgICBpbnZlbnRvcnlMaXN0CiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgbWFpbHRvIGxpbmsKICAgICAgICAgICAgICAgICAgICBjb25zdCBtYWlsdG9MaW5rID0gYG1haWx0bzoke2VtYWlsfT9zdWJqZWN0PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHN1YmplY3QpfSZib2R5PSR7ZW1haWxCb2R5fWA7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8gU2hvdyBub3RpZmljYXRpb24KICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb24uY2xhc3NMaXN0LmFkZCgnc2hvdycpOwogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb24uY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpOwogICAgICAgICAgICAgICAgICAgIH0sIDMwMDApOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vIE9wZW4gdGhlIGVtYWlsIGNsaWVudAogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gbWFpbHRvTGluazsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyBDbG9zZSB0aGUgbW9kYWwgYWZ0ZXIgYSBkZWxheSB0byBhbGxvdyB0aGUgZW1haWwgY2xpZW50IHRvIG9wZW4KICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGNsb3NlTW9kYWxGdW5jLCA1MDApOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgnUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIENsb3NlIG1vZGFsIGlmIGNsaWNrZWQgb3V0c2lkZSBjb250ZW50CiAgICAgICAgICAgIHJlcG9ydE1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsKICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldCA9PT0gcmVwb3J0TW9kYWwpIHsKICAgICAgICAgICAgICAgICAgICBjbG9zZU1vZGFsRnVuYygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9KTs=');
var script = document.createElement('script');
script.textContent = js;
document.body.appendChild(script);